#:include middle/t_plan.kv 
#:include middle/rv_temp.kv
#:include middle/rv_structure.kv

<TextInput>:
    background_color:0,0,0,1
    foreground_color :0.8,0.8,0.8,1
    canvas.after:
        Color:
            rgba: .1, .1, .1, 1
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height
       
<Button>:
    background_color:.2,.2,.2,1
    foreground_color :0.8,0.8,0.8,1
    halign: 'center'
    valign: 'center'

<DayPlannerGUI>:

    font_name:"Roboto"

    b_save:b_save
    b_load:b_load
    b_mode:b_mode
    t_theme:t_theme
    rv_temp:rv_temp
    t_plan:t_plan
    rv_struc:rv_struc

    FloatLayout:
        size: root.width, root.height

        BoxLayout:
            orientation:"horizontal"
            cols:3
            size_hint: 1,0.05
            pos_hint:{"x":0,"top":0.99}

            Button:
                id:b_save
                text:"save plan"
                on_press:root.savePlan()

            Button:
                id:b_load
                text:"load plan"
                on_press:root.loadPlan()


        FloatLayout:
            size_hint: 1,0.9
            pos_hint:{"x":0,"top":0.925}

            RV_Templates:
                id:rv_temp
                pos_hint:{"x":0,"top":1}
                size_hint: 0.2,1

            TextInput:
                id:t_theme
                text:"Plan"
                pos_hint:{"x":0.2,"top":1}
                size_hint:0.6,0.05
                halign: 'left'
                valign: 'bottom'
                multiline:False
                on_text: root.updateTheme(self.text)
            
            Button:
                id:b_mode
                text:"P/T"
                pos_hint:{"x":0.7,"top":1}
                size_hint:0.1,0.05
                on_press: root.changeMode()

            T_Plan:
                id:t_plan
                pos_hint:{"x":0.2,"top":0.95}
                size_hint: 0.6,0.95

            RV_Structure:
                id:rv_struc
                pos_hint:{"x":0.8,"top":1}
                size_hint: 0.2,1