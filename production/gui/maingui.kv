#:include production\gui\middle\pop\popmenu.kv
#:include middle\planStructure.kv 
#:include middle\rvt.kv




<GUIGame>:

    b_savePlan:b_savePlan
    b_saveTemplate:b_saveTemplate
    b_loadPlan:b_loadPlan
    
    template_List:template_List
    plan_structure:plan_structure

    t_name:t_name
    t_location:t_location

    FloatLayout:
        orientation:"vertical"
        size: root.width, root.height

        BoxLayout:
            orientation:"horizontal"
            cols:3
            size_hint: 1,0.05
            pos_hint:{"x":0.01,"top":0.99}

            Button:
                size_hint: None,1
                id:b_savePlan
                text:"save as Plan"
                margin_x:[10,10]
                on_press:root.savePlan()

            Button:
                size_hint: None,1
                id:b_saveTemplate
                text:"save as Template"
                margin_x:[10,10]
                on_press:root.saveTemplate()

            Button:
                size_hint: None,1
                id:b_loadPlan
                text:"load Plan"
                margin_x:[10,10]
                on_press:root.loadPlan()

            Label
                size_hint: None,1
                text:"Location:"
                margin_x:[10,10]

            TextInput:
                size_hint: 1,1
                id:t_location
                text:"E:\Program Files (x86)\Microsoft Visual Studio\2019\Community\Common7\IDE\1031"
                multiline:False

            Label
                size_hint: None,1
                text:"Filename:"
                margin_x:[10,10]

            TextInput:
                id:t_name
                text:"Leaving application in progress" 
                size_hint: 1,1
                multiline:False



        FloatLayout:
            orientation:"horizontal"
            size_hint: 1,0.8
            pos_hint:{"x":0,"top":0.90,"y":0.1}

            RV_Templates:
                id:template_List
                pos_hint:{"x":0,"top":1}
                size_hint: 0.2,1

            PlanStructureWidget:
                id:plan_structure
                pos_hint:{"x":0.2,"top":1}
                size_hint: 0.8,1
        
        Button:
            text:"update"
            pos_hint:{"x":0.2,"top":0.05,"right":0.8}
            size_hint: 0.6,0.05
            on_press: plan_structure.plan_update()

