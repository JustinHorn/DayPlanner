#refactor
#split templates
#split templates automaticly when 